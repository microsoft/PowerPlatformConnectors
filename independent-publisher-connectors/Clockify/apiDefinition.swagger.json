{
  "swagger": "2.0",
  "info": {
    "title": "Strategik Core",
    "description": "Strategik Business Helper Utilities like sending OTP , getting details about company in australia",
    "version": "1.1.0",
    "contact": {
      "name": "Dr.Adrian",
      "url": "https://strategik.com",
      "email": "adrian@strategik.com"
    }
  },
  "host": "webhook.site",
  "basePath": "/96f911ba-8207-4f46-9f35-67c7eb31d736/api",
  "schemes": [
    "https"
  ],
  "consumes": [],
  "produces": [],
  "paths": {
    "/Apps/{appId}": {
      "get": {
        "tags": [
          "App Info"
        ],
        "parameters": [
          {
            "in": "path",
            "type": "string",
            "x-ms-url-encoding": "single",
            "name": "appId",
            "required": true,
            "x-ms-summary": "App Name",
            "description": "App Name",
            "x-ms-visibility": "important"
          }
        ],
        "summary": "Retrieve App Info",
        "description": "App Info",
        "operationId": "AppInfo",
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "App Info",
            "schema": {
              "$ref": "#/definitions/appInfoModel"
            },
            "x-ms-summary": "App Info"
          }
        },
        "x-ms-visibility": "internal"
      }
    },
    "/otp-status": {
      "get": {
        "tags": [
          "OTP"
        ],
        "summary": "Check OTP Status",
        "description": "CheckOTPStatus",
        "operationId": "CheckOTPStatus",
        "produces": [
          "application/json"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "Check OTP Status",
            "schema": {
              "$ref": "#/definitions/stkotpVerifyStatus"
            },
            "x-ms-summary": "Check OTP Status"
          }
        },
        "x-ms-visibility": "internal"
      }
    },
    "/company-lookup": {
      "get": {
        "tags": [
          "Company Lookup"
        ],
        "summary": "Gets the company details by ACN or ABR Number",
        "description": "Gets the company details by ABR or ACN Number.",
        "operationId": "CompanyLookUp",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "identifier",
            "description": "Business Identifier",
            "required": true,
            "type": "string",
            "x-ms-summary": "Business Identifier",
            "x-ms-visibility": "important"
          }
        ],
        "responses": {
          "200": {
            "description": "Company Details Response",
            "schema": {
              "$ref": "#/definitions/abrPayloadSearchResults"
            },
            "x-ms-summary": "Company Details Response"
          }
        },
        "security": [
          {
            "authKey": []
          }
        ],
        "x-ms-visibility": "important"
      }
    },
    "/AppList": {
      "get": {
        "tags": [
          "App"
        ],
        "parameters": [],
        "summary": "Retrieve Apps for this Client",
        "description": "App List",
        "operationId": "GetAppList",
        "produces": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "App List",
            "schema": {
              "$ref": "#/definitions/appListModel"
            },
            "x-ms-summary": "App List"
          }
        },
        "x-ms-visibility": "internal"
      }
    },
    "/cancel-otp": {
      "post": {
        "tags": [
          "Cancel OTP"
        ],
        "summary": "Cancel a sent OTP before user enters",
        "description": "Cancel OTP sent",
        "operationId": "CancelOTP",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "schema": {
              "$ref": "#/definitions/cancelOtpRequestModel"
            }
          }
        ],
        "responses": {
          "202": {
            "description": "Cancel a OTP",
            "schema": {
              "$ref": "#/definitions/genericResponse"
            },
            "x-ms-summary": "Cancel a OTP"
          }
        },
        "security": [
          {
            "authKey": []
          }
        ],
        "x-ms-visibility": "important"
      }
    },
    "/send-otp": {
      "post": {
        "tags": [
          "Send OTP"
        ],
        "summary": "Sends OTP to a user",
        "description": "Sends OTP to a user",
        "operationId": "SendOTP",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "schema": {
              "$ref": "#/definitions/sendOtpRequestModel"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success"
          },
          "202": {
            "description": "Accepted",
            "headers": {
              "Location": {
                "description": "URI to poll for asynchronous operation result.",
                "type": "string"
              },
              "Retry-After": {
                "description": "Duration the client should wait between requests, in seconds.",
                "type": "integer",
                "format": "int32"
              }
            }
          },
          "default": {
            "description": "Error"
          }
        },
        "x-ms-long-running-operation": true,
        "x-ms-long-running-operation-options": {
          "final-state-via": "location"
        },
        "security": [
          {
            "authKey": []
          }
        ],
        "x-ms-visibility": "important"
      }
    },
    "/send-otp-and-wait": {
      "post": {
        "tags": [
          "Send OTP"
        ],
        "summary": "Sends OTP to a user and wait for response",
        "description": "Sends OTP to a user and wait for response",
        "operationId": "SendOTPAndWait",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "schema": {
              "$ref": "#/definitions/sendOtpRequestModel"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success"
          },
          "202": {
            "description": "Accepted",
            "headers": {
              "Location": {
                "description": "URI to poll for asynchronous operation result.",
                "type": "string"
              },
              "Retry-After": {
                "description": "Duration the client should wait between requests, in seconds.",
                "type": "integer",
                "format": "int32"
              }
            }
          },
          "400": {
            "description": "Error"
          },
          "default": {
            "description": "Error"
          }
        },
        "x-ms-long-running-operation": true,
        "x-ms-long-running-operation-options": {
          "final-state-via": "location"
        },
        "security": [
          {
            "authKey": []
          }
        ],
        "x-ms-visibility": "important"
      }
    },
    "/verify-otp": {
      "post": {
        "tags": [
          "OTP"
        ],
        "summary": "Verify Otp",
        "description": "VerifyOtp",
        "operationId": "VerifyOtp",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "schema": {
              "$ref": "#/definitions/verifyOtpRequestModel"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Verify Otp",
            "schema": {
              "$ref": "#/definitions/stkotpVerifyStatus"
            },
            "x-ms-summary": "Verify Otp"
          }
        },
        "x-ms-visibility": "internal"
      }
    },
    "/wait-for-otp-response": {
      "post": {
        "tags": [
          "Wait for OTP Response"
        ],
        "summary": "Wait for OTP Response",
        "description": "Wait for OTP Response",
        "operationId": "WaitForOtpResponse",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "schema": {
              "$ref": "#/definitions/waitForOtpRequestModel"
            }
          }
        ],
        "responses": {
          "202": {
            "description": "Wait for OTP Response",
            "schema": {
              "$ref": "#/definitions/genericResponse"
            },
            "x-ms-summary": "Wait for OTP Response"
          }
        },
        "security": [
          {
            "authKey": []
          }
        ],
        "x-ms-visibility": "important"
      }
    },
    "/create-notification-for-company": {
      "post": {
        "responses": {
          "default": {
            "description": "default",
            "schema": {}
          }
        },
        "summary": "Create Notification for Company",
        "description": "Creates a Notifications for Company",
        "operationId": "CreateNotificationForCompany",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": false,
            "schema": {
              "type": "object",
              "properties": {
                "businessIdentifier": {
                  "type": "string",
                  "description": "businessIdentifier"
                }
              }
            }
          }
        ]
      }
    },
    "/webhooks": {
      "x-ms-notification-content": {
        "schema": {
          "type": "object",
          "properties": {}
        },
        "description": "Event"
      },
      "post": {
        "responses": {},
        "summary": "On Company Details Changed",
        "description": "Event Triggered On CompanyDetails Changed",
        "operationId": "OnCompanyDetailsChanged",
        "x-ms-trigger": "single",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": false,
            "schema": {
              "type": "object",
              "properties": {
                "url": {
                  "type": "string",
                  "description": "url",
                  "x-ms-notification-url": true,
                  "x-ms-visibility": "internal",
                  "title": ""
                }
              },
              "required": [
                "url"
              ]
            }
          }
        ]
      }
    }
  },
  "definitions": {
    "abn": {
      "type": "object",
      "properties": {
        "identifierValue": {
          "format": "double",
          "type": "number"
        },
        "isCurrentIndicator": {
          "type": "string"
        },
        "replacedFrom": {
          "format": "date-time",
          "type": "string"
        }
      }
    },
    "abrPayloadSearchResults": {
      "type": "object",
      "properties": {
        "request": {
          "$ref": "#/definitions/request"
        },
        "response": {
          "$ref": "#/definitions/response"
        },
        "xsd": {
          "type": "string"
        },
        "xsi": {
          "type": "string"
        },
        "xmlns": {
          "type": "string"
        },
        "text": {
          "type": "string"
        }
      }
    },
    "appInfoModel": {
      "type": "object",
      "properties": {
        "appDescription": {
          "type": "string",
          "description": "appDescription"
        },
        "appName": {
          "type": "string",
          "description": "appName"
        },
        "name": {
          "type": "string",
          "description": "name"
        },
        "id": {
          "type": "string",
          "description": "id"
        }
      }
    },
    "appListModel": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "appDescription": {
            "type": "string",
            "description": "appDescription"
          },
          "appName": {
            "type": "string",
            "description": "appName"
          },
          "name": {
            "type": "string",
            "description": "name"
          },
          "id": {
            "type": "string",
            "description": "id"
          }
        }
      }
    },
    "businessEntity202001": {
      "type": "object",
      "properties": {
        "recordLastUpdatedDate": {
          "format": "date-time",
          "type": "string"
        },
        "abn": {
          "$ref": "#/definitions/abn"
        },
        "entityStatus": {
          "$ref": "#/definitions/entityStatus"
        },
        "asicNumber": {
          "format": "int32",
          "type": "integer"
        },
        "entityType": {
          "$ref": "#/definitions/entityType"
        },
        "goodsAndServicesTax": {
          "$ref": "#/definitions/goodsAndServicesTax"
        },
        "mainName": {
          "$ref": "#/definitions/mainName"
        },
        "mainBusinessPhysicalAddress": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/mainBusinessPhysicalAddress"
          }
        },
        "businessName": {
          "$ref": "#/definitions/businessName"
        }
      }
    },
    "businessName": {
      "type": "object",
      "properties": {
        "organisationName": {
          "type": "string"
        },
        "effectiveFrom": {
          "format": "date-time",
          "type": "string"
        }
      }
    },
    "cancelOtpRequestModel": {
      "type": "object",
      "properties": {
        "app_id": {
          "type": "string",
          "x-ms-dynamic-values": {
            "operationId": "GetAppList",
            "value-path": "id",
            "value-title": "appName"
          },
          "x-ms-summary": "App Name",
          "x-ms-visibility": "important"
        },
        "otp_tran_id": {
          "type": "string",
          "x-ms-summary": "OTP Id",
          "x-ms-visibility": "important"
        }
      }
    },
    "entityStatus": {
      "type": "object",
      "properties": {
        "entityStatusCode": {
          "type": "string"
        },
        "effectiveFrom": {
          "format": "date-time",
          "type": "string"
        },
        "effectiveTo": {
          "format": "date-time",
          "type": "string"
        }
      }
    },
    "entityType": {
      "type": "object",
      "properties": {
        "entityTypeCode": {
          "type": "string"
        },
        "entityDescription": {
          "type": "string"
        }
      }
    },
    "genericResponse": {
      "type": "object",
      "properties": {
        "status": {
          "type": "string"
        },
        "message": {
          "type": "string"
        },
        "hasError": {
          "type": "boolean"
        },
        "mailSent": {
          "type": "boolean"
        },
        "smsSent": {
          "type": "boolean"
        },
        "otpTranId": {
          "type": "string"
        }
      }
    },
    "goodsAndServicesTax": {
      "type": "object",
      "properties": {
        "effectiveFrom": {
          "format": "date-time",
          "type": "string"
        },
        "effectiveTo": {
          "format": "date-time",
          "type": "string"
        }
      }
    },
    "identifierSearchRequest": {
      "type": "object",
      "properties": {
        "authenticationGUID": {
          "type": "string"
        },
        "identifierType": {
          "type": "string"
        },
        "identifierValue": {
          "format": "double",
          "type": "number"
        },
        "history": {
          "type": "string"
        }
      }
    },
    "mainBusinessPhysicalAddress": {
      "type": "object",
      "properties": {
        "stateCode": {
          "type": "string"
        },
        "postcode": {
          "format": "int32",
          "type": "integer"
        },
        "effectiveFrom": {
          "format": "date-time",
          "type": "string"
        },
        "effectiveTo": {
          "format": "date-time",
          "type": "string"
        }
      }
    },
    "mainName": {
      "type": "object",
      "properties": {
        "organisationName": {
          "type": "string"
        },
        "effectiveFrom": {
          "format": "date-time",
          "type": "string"
        }
      }
    },
    "request": {
      "type": "object",
      "properties": {
        "identifierSearchRequest": {
          "$ref": "#/definitions/identifierSearchRequest"
        }
      }
    },
    "response": {
      "type": "object",
      "properties": {
        "usageStatement": {
          "type": "string"
        },
        "dateRegisterLastUpdated": {
          "format": "date-time",
          "type": "string"
        },
        "dateTimeRetrieved": {
          "format": "date-time",
          "type": "string"
        },
        "businessEntity202001": {
          "$ref": "#/definitions/businessEntity202001"
        },
        "businessEntity201408": {
          "$ref": "#/definitions/businessEntity202001"
        }
      }
    },
    "sendOtpRequestModel": {
      "type": "object",
      "properties": {
        "app_id": {
          "type": "string",
          "x-ms-dynamic-values": {
            "operationId": "GetAppList",
            "value-path": "id",
            "value-title": "appName"
          },
          "x-ms-summary": "App Name",
          "x-ms-visibility": "important"
        },
        "user_name": {
          "type": "string",
          "x-ms-summary": "User Full Name",
          "x-ms-visibility": "important"
        },
        "user_email": {
          "type": "string",
          "x-ms-summary": "User Email",
          "x-ms-visibility": "important"
        },
        "user_phone": {
          "type": "string",
          "x-ms-summary": "User Phone (sms)",
          "x-ms-visibility": "important"
        },
        "target_channel": {
          "type": "string",
          "x-ms-summary": "Target Channel",
          "default": "email",
          "enum": [
            "email",
            "sms",
            "both"
          ],
          "x-ms-visibility": "advanced"
        },
        "email_subject": {
          "type": "string",
          "x-ms-summary": "Email Subject",
          "description": "supported tokens #APP_NAME#",
          "default": "",
          "x-ms-visibility": "advanced"
        },
        "email_body": {
          "type": "string",
          "x-ms-summary": "Email Body",
          "description": "supported tokens #APP_NAME# #APP_OTP# #APP_VERIFY_URL# #USER_NAME#",
          "default": "",
          "x-ms-visibility": "advanced"
        },
        "sms_body": {
          "type": "string",
          "x-ms-summary": "SMS Body",
          "description": "supported tokens #APP_NAME# #APP_OTP# #APP_VERIFY_URL#",
          "default": "",
          "x-ms-visibility": "advanced"
        },
        "custom_verify_url": {
          "type": "string",
          "x-ms-summary": "Custom Verify Url",
          "description": "Use your own domain name for verifying the url",
          "default": "",
          "x-ms-visibility": "advanced"
        },
        "timeout": {
          "format": "int32",
          "type": "integer",
          "default": 180,
          "x-ms-summary": "OTP timeout in seconds",
          "maximum": 300,
          "minimum": 10,
          "x-ms-visibility": "advanced"
        }
      },
      "required": [
        "app_id",
        "timeout",
        "user_name"
      ]
    },
    "sendOTPResponse": {
      "type": "object",
      "properties": {
        "status": {
          "type": "string"
        },
        "message": {
          "type": "string"
        },
        "hasError": {
          "type": "boolean"
        },
        "mailSent": {
          "type": "boolean"
        },
        "smsSent": {
          "type": "boolean"
        }
      }
    },
    "stkotpVerifyStatus": {
      "type": "object",
      "properties": {
        "isVerified": {
          "type": "boolean"
        },
        "error": {
          "type": "string"
        },
        "helpMessage": {
          "type": "string"
        },
        "appId": {
          "type": "string"
        }
      }
    },
    "verifyOtpRequestModel": {
      "type": "object",
      "properties": {
        "tranId": {
          "type": "string"
        },
        "userOtpCode": {
          "type": "string"
        }
      }
    },
    "waitForOtpRequestModel": {
      "type": "object",
      "properties": {
        "app_id": {
          "type": "string",
          "x-ms-dynamic-values": {
            "operationId": "GetAppList",
            "value-path": "id",
            "value-title": "appName"
          },
          "x-ms-summary": "App Name",
          "x-ms-visibility": "important"
        },
        "otp_tran_id": {
          "type": "string",
          "x-ms-summary": "OTP Id",
          "x-ms-visibility": "important"
        },
        "wait_timeout": {
          "format": "int32",
          "type": "integer",
          "x-ms-summary": "Wait Timeout",
          "x-ms-visibility": "advanced"
        }
      }
    }
  },
  "parameters": {},
  "responses": {},
  "securityDefinitions": {
    "API Key": {
      "type": "apiKey",
      "in": "header",
      "name": "Ocp-Apim-Subscription-Key"
    }
  },
  "security": [
    {
      "API Key": []
    }
  ],
  "x-ms-connector-metadata": [
    {
      "propertyName": "Website",
      "propertyValue": "https://strategik.com.au"
    },
    {
      "propertyName": "Privacy policy",
      "propertyValue": "https://strategik.com.au"
    },
    {
      "propertyName": "Categories",
      "propertyValue": "Productivity"
    }
  ],
  "tags": []
}