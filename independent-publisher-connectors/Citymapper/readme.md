# Citymapper
Citymapper allows you to add journey planning and turn-by-turn navigation to your products. Our services are powered by our industry-leading global transport data and custom routing algorithms trained on billions of trips.

## Publisher: Troy Taylor, Hitachi Solutions

## Prerequisites
To use Citymapper, you must [signup](https://enterprise.citymapper.com/signup) for an Enterprise account.

## Obtaining Credentials
Once logged in to your dashboard, you will find your API key at the top of the page.

## Supported Operations
### Get travel times between two locations
Determines the travel time in various modes of travel between the given two points at the time the request is made.
### Get e-scooter directions between two points
Gets a scooter route between two points, providing enough information to render it on a map, along with a duration estimate. (These results are optimized for small battery-powered scooters that the rider stands on.) This call assumes that the rider has a scooter at the 'start' point, and provides an e-scooter route from there to the 'end' point if both are within Citymapper's supported areas. The resulting route should contain a single scooter leg, though the 'path_annotations' property of the leg may indicate sections during which the user should walk beside the scooter. This call does not incorporate any information about scooter operators' coverage or parking areas, but other service calls may be available to do so. Successful responses (HTTP code '200') will consume one 'Scooter Route' credit (or one 'Scooter Reroute' credit if 'reroute_signature' is used) for each HTTP response. Unsuccessful calls will not consume any credits.
### Get hired e-scooter directions between two points
Gets a hired e-scooter route between two points, including any initial and final walks. The resulting route provides enough information to render it on a map, along with a duration estimate. These results are optimized for small battery-powered scooters that the rider stands on. This call can be used in several different ways:  **Use any scooter of the specified Brand** This is the simplest call, only requiring 'start', 'end', and 'brand_id'. Citymapper assumes that the user is at the 'start' point, and chooses a scooter of the specified Brand, if possible. **Use a scooter at a specified location** By adding 'original_vehicle_location' to 'start', 'end', and 'brand_id', Citymapper plans a route that assumes the scooter is at the given location. **Update a route in progress** In order to retrieve an updated route that includes rerouting from the user's current location if they've diverged from the planned Route, the caller can add the 'current_location' and 'ride_state' properties, which indicates which leg of the resulting route should be rerouted around the user's 'current_location'.
### Get a bike route between two points
Gets a bike route between two points, providing enough information to render it on a map, along with a duration estimate. This call assumes that the rider has a bicycle at the 'start' point, and provides a biking route from there to the 'end' point if both are within Citymapper's supported areas. The resulting route should contain a single bike leg, though the 'path_annotations' property of the leg may indicate sections during which the user should walk beside the bike. This call does not incorporate any information about bike operators' coverage or parking areas, but other service calls may be available to do so. The maximum great-circle distance between the start and end is limited to 200km for this service.
### Get a hired bike route between two points
Gets a hired bike route between two points, including any initial and final walks. The resulting route provides enough information to render it on a map, along with a duration estimate. This call can be used in several different ways:  **Use any bike of the specified Brand** This is the simplest call, only requiring 'start', 'end', and 'brand_id'. Citymapper assumes that the user is at the 'start' point, and chooses a bike of the specified Brand, if possible. **Use a bike at a specified location** By adding 'original_vehicle_location' to 'start', 'end', and 'brand_id', Citymapper plans a route that assumes the bike is at the given location. **Update a route in progress** In order to retrieve an updated route that includes rerouting from the user's current location if they've diverged from the planned Route, the caller can add the 'current_location' and 'ride_state' properties, which indicates which leg of the resulting route should be rerouted around the user's 'current_location'.
### Get a motor scooter route between two points
Gets a motor scooter route between two points, providing enough information to render it on a map, along with a duration estimate. (These results are optimized for larger internal combustion or electric scooters where the rider is seated.) This call assumes that the rider has a scooter at the 'start' point, and provides an e-scooter route from there to the 'end' point if both are within Citymapper's supported areas. The resulting route should contain a single scooter leg, though the 'path_annotations' property of the leg may indicate sections during which the user should walk beside the scooter. This call does not incorporate any information about scooter operators' coverage or parking areas, but other service calls may be available to do so.
### Get a hired motor scooter route between two points
Gets a hired motor scooter route between two points, including any initial and final walks. The resulting route provides enough information to render it on a map, along with a duration estimate. (These results are optimized for larger internal combustion or electric scooters where the rider is seated.) **NOTE:** The resulting route currently assumes that the user can ride directly to the specified 'end' location, not taking into account any parking or coverage zones. Thus, the resulting route will contain only an initial leg of 'travel_mode' 'walk' and a second leg of 'travel_mode' 'self_piloted'. A future update will incorporate parking and coverage zones and add a final 'walk' leg. This call can be used in several different ways:  **Use any scooter of the specified Brand** This is the simplest call, only requiring 'start', 'end', and 'brand_id'. Citymapper assumes that the user is at the 'start' point, and chooses a scooter of the specified Brand, if possible. **Use a scooter at a specified location** By adding 'original_vehicle_location' to 'start', 'end', and 'brand_id', Citymapper plans a route that assumes the scooter is at the given location. **Update a route in progress** In order to retrieve an updated route that includes rerouting from the user's current location if they've diverged from the planned Route, the caller can add the 'current_location' and 'ride_state' properties, which indicates which leg of the resulting route should be rerouted around the user's 'current_location'.
### Get a taxi route between two points
Gets a taxi route between two points. The resulting route provides enough information to render it on a map, along with a duration estimate. The route may contain starting and ending walk legs if the pick-up or drop-off points aren't close to the requested start and end coordinates. The Services in the response will vary depending on the local availability, time of day and, additionally, which Taxi service integrations have been configured for your account. There are two recommended ways to use this service: You can request a taxi route with live on-demand service estimates included up-front by calling with '?fetch_on_demand_services=true'; or you can make the initial request without fetching estimates which will respond with the non-live route, then immediately call '1/live/routeupdates' to get the additional live estimates. The first approach is simpler, but the second may better fit your use-case.
### Get a walking route between two points
Gets a walking route between two points, providing enough information to render it on a map, along with a duration estimate. Walking routes are expected to have a single leg with a 'travel_mode' of 'walk'. If Citymapper can't compute walking directions for those points (generally for coverage reasons), the service will return a code '400' response. The maximum great-circle distance between the 'start' and 'end' is limited to 100km for this service.
### Get a driving route between two points
Gets a car route between two points, providing enough information to render it on a map, along with a duration estimate. This call assumes that the rider has a car at the 'start' point, and provides a car route from there to the 'end' point if both are within Citymapper's supported areas. The resulting route should contain a single car leg. The maximum great-circle distance between the start and end is limited to 1000km for this service.
### Get a transit route between two points
Computes several public transportation routes between two points. By default, the results will contain up to 5 routes. Each one will contain several legs: usually one at the start and end of the route with 'travel_mode' of 'walk', with at least one with 'travel_mode' of 'transit' in between.
### Get a route between two points for a scenario
Computes routes between two points based on a provided scenario. One or more groups of routes can be provided depending on a scenario. Each group will contain several routes. Each route will contain one or more legs.
### Get live departure and availability information for multiple routes
This retrieves current and live departure information and live on-demand quotes for multiple routes previously obtained from the 'directions' endpoints. Only routes that have at least one leg with a leg Updatable Detail can be updated using this service. Note it may not always be possible for Citymapper to provide current times or live departure and disruption information for a leg. Successful responses (HTTP code '200') will consume one 'Live Update' credit for each HTTP response. Unsuccessful calls will not consume any credits.

## Known Issues and Limitations
There are no known issues at this time.
